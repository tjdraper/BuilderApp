<!DOCTYPE html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<style type="text/css">
	button {
		background-color: #CDCDCD;
	}
	button:focus {
		outline: none;
	}
	button.success,
	button.on {
		background-color: #62C058;
	}
</style>
<body>
<!-- <button class="continuous">Begin Generating</button>
<br><br> -->
<iframe name="generator" id="generator" marginwidth="14" marginheight="10" width="100%" height="300px" frameborder=1 src="build.php"></iframe>
<br><br>
<button class="once">Build</button>
<script src="_js/jquery-2.1.1.min.js"></script>
<script type="text/javascript">
$(function() {
	//setInterval(refreshiframe, 2000);
	$('.continuous').click(function() {
		var $this = $(this);
		if ($this.hasClass('on') === false) {
			refreshiframe();
			$this.addClass('on').html('Stop Generating&hellip;');
			refreshIntervalId = setInterval(refreshiframe, 5000);
		} else {
			$this.removeClass('on').html('Begin Generating');
			clearInterval(refreshIntervalId);
		}
	});
	$('.once').click(function() {
		refreshiframe();
		$(this).addClass('success');
		setTimeout(function() {
			$('.once').removeClass('success');
		}, 1000);
	});
});
function refreshiframe() {
	$('#generator').attr('src', $('#generator').attr('src'));
}
</script>
</body>
</html>